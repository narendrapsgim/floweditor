<div #view [ngSwitch]="internal.picker.type" class="picker">

  <mat-form-field *ngSwitchCase="'Multiline'">
    <textarea matInput cdkTextareaAutosize placeholder="{{(internal.name | graphNodeName).toLowerCase()}}"
      [(ngModel)]="internal.value"></textarea>
  </mat-form-field>

  <mat-form-field *ngSwitchCase="'Text'">
    <input matInput placeholder="{{(internal.name | graphNodeName).toLowerCase()}}" [(ngModel)]="internal.value">
  </mat-form-field>

  <mat-form-field *ngSwitchCase="'Number'">
    <input matInput step="0.5" type="number" placeholder="{{internal.name}}" [(ngModel)]="internal.value">
  </mat-form-field>

  <mat-form-field *ngSwitchCase="'Dropdown'">
    <mat-label>{{internal.name}}</mat-label>
    <mat-select [(ngModel)]="internal.value">
      <mat-option *ngFor="let option of internal.picker.options" [value]="option.value">
        {{option.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <ng-container *ngSwitchCase="'DoubleDropdown'">
    <mat-form-field>
      <mat-label>{{internal.name}}</mat-label>
      <mat-select [(ngModel)]="doubleDropDownChoice" (selectionChange)="resetDoubleDropDownValue()">
        <mat-option *ngFor="let option of internal.picker.options" [value]="option">
          {{option.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-select [(ngModel)]="internal.value">
        <mat-option *ngFor="let option of doubleDropDownChoice.options" [value]="option.name">
          {{option.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </ng-container>


  <span *ngSwitchCase="'Color'">
    <div>
      <mat-label>R</mat-label>
      <mat-slider thumbLabel min="0" max="255" step="1" value="128" [(ngModel)]="internal.value.r"></mat-slider>
    </div>
    <div>
      <mat-label>G</mat-label>
      <mat-slider thumbLabel min="0" max="255" step="1" value="128" [(ngModel)]="internal.value.g"></mat-slider>
    </div>
    <div>
      <mat-label>B</mat-label>
      <mat-slider thumbLabel min="0" max="255" step="1" value="128" [(ngModel)]="internal.value.b"></mat-slider>
    </div>
  </span>

  <ng-container *ngSwitchCase="'AssetAttribute'">

    <div>
      <a style="margin: 8px; margin-left: 0" mat-button
        (click)="openAssetPickerDialog()">{{chosenAsset ? chosenAsset.name : "Select an asset"}}</a>
    </div>

    <mat-form-field *ngIf="attributeNames.length > 0">
      <mat-label>Attribute</mat-label>
      <mat-select [(ngModel)]="chosenAttributeName" (selectionChange)="setAssetPair()" style="text-transform: none">
        <mat-option *ngFor="let option of attributeNames" [value]="option" style="text-transform: none">
          {{option}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div *ngIf="attributeNames.length === 0 && chosenAsset" style="width: 200px">This asset has no rule state attributes
    </div>


  </ng-container>

</div>